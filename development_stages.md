# Этапы разработки backend

## Этап 1: Базовая настройка ✅
- [x] Конфигурация из .env файла
  - Реализована через TypedDict
  - Добавлена функция get_settings()
- [x] Структура FastAPI приложения
  - Создано базовое приложение
  - Добавлен health check endpoint
  - [x] Настройка логирования
  - Создан модуль логирования
  - Добавлена функция get_logger с кэшированием
  - Настроен базовый форматтер
- [x] Тесты конфигурации и логирования
  - Настроена инфраструктура тестирования
  - Добавлены базовые тесты конфигурации
  - Добавлены тесты логирования
  - Настроен pytest с необходимыми зависимостями

**Тестирование**:
- [x] Проверка загрузки конфигурации
- [x] Валидация переменных окружения
- [x] Проверка логирования

## Этап 2: Pydantic модели ✅
- [x] TaskSchema и EpicSchema
  - Создана базовая схема BaseSchema
  - Реализована TaskSchema с полями JIRA
  - Реализована EpicSchema со связями
  - Добавлены валидаторы полей
- [ ] LabelSchema
- [ ] DorDodSchema и LinkSchema
- [ ] Валидаторы для всех моделей

**Тестирование**:
- [x] Валидация моделей Task и Epic
- [x] Проверка обязательных полей
- [x] Тестирование форматов данных
- [ ] Валидация остальных моделей

## Этап 3: JIRA интеграция ✅
- [x] Базовые функции работы с API
  - Реализован кэшируемый JIRA клиент
  - Добавлены функции получения задач
  - Добавлены функции получения эпиков
  - Документирована работа с JIRA полями
- [x] Обработка ошибок JIRA
- [x] Маппинг данных JIRA
  - Настроена работа с Epic Name (customfield_10604)
  - Настроена работа с Epic Link
  - Реализован поиск связанных задач

**Тестирование**:
- [x] Моки JIRA API
- [x] Проверка обработки ошибок
- [x] Тестирование маппинга
- [x] Интеграционные тесты с реальной JIRA

## Этап 4: API эндпоинты
- [x] Tasks API (чтение)
- [x] Epics API
- [x] Labels API
  - Реализована схема меток
  - Добавлен сервис работы с метками
  - Добавлены API эндпоинты
  - Настроено логирование
  - Покрыто тестами
- [x] DoR/DoD API
  - Реализована схема шаблонов DoR/DoD
  - Добавлен сервис управления шаблонами (markdown файлы)
  - Добавлены API эндпоинты для CRUD операций
  - Интеграция с созданием задач
  - Покрыто тестами
- [x] Links API
  - Реализована схема связей (TaskLink, ExternalLink)
  - Добавлены сервисы для JIRA и внешних ссылок
  - Добавлены API эндпоинты
  - Настроена валидация URL
  - Покрыто тестами
- [ ] Tasks API (создание)
  - Схема CreateTaskRequest
  - Сервис создания задач
  - Валидация полей
  - Интеграция с шаблонами
- [ ] Worklog API
  - Схема WorklogEntry
  - Сервис для работы с ворклогами
  - Эндпоинты CRUD
- [ ] Comments API
  - Схема Comment
  - Сервис для работы с комментариями
  - Эндпоинты CRUD
  - Поддержка форматирования

**Тестирование**:
- [x] Интеграционные тесты Links API
- [ ] Тесты создания задач
- [ ] Тесты ворклогов
- [ ] Тесты комментариев
- [x] Проверка валидации входных данных
- [x] Тестирование ошибок

## Этап 5: YAML хранилище
- [ ] Работа с шаблонами DoR/DoD
- [ ] Управление настройками
- [ ] Работа с метками

**Тестирование**:
- Операции с YAML файлами
- Проверка структуры данных
- Тестирование concurrent доступа